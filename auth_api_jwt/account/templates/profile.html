{% load static %}
<!DOCTYPE html><html><head><title>Profile</title></head><body>
<h2>Profile</h2>
<button onclick="loadProfile()">Load Profile</button>
<div id="profile"></div>
<script src="{% static 'js/auth.js' %}"></script>
<script>
  async function loadProfile() {
    try {
      const { ok, data } = await apiRequest('/api/profile/', {}, 'GET', true);
      profile.innerHTML = ok
        ? `<p>Email: ${data.email}</p><p>Name: ${data.name}</p>`
        : `‚ùå ${JSON.stringify(data)}`;
    } catch (err) { profile.innerText = err; }
  }
</script>
</body></html>
